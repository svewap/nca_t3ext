{namespace v=FluidTYPO3\Vhs\ViewHelpers}

<f:comment>
    Mittels dieses Partials kann man generelle Extbase Fehlermeldungen individualisieren. Je nach Feld und Fehlermeldungstyp.
</f:comment>

<f:form.validationResults for="{for}">
	<f:if condition="{validationResults.flattenedErrors}">
		<f:for each="{validationResults.flattenedErrors}" key="propertyPath" as="propertyErrors">
			<f:if condition="{propertyPath}=={field}">
				<f:for each="{propertyErrors}" as="propertyError">
					<span class="help-block error errorMessage error-{for -> v:format.replace(substring:'.',replacement:'-')}-{propertyError.code}">
						<f:if condition="{f:translate(key: '{for}.{propertyError.code}')}">
							<f:then>
								<f:translate key="{for}.{propertyError.code}" arguments="{propertyError.arguments}" />
							</f:then>
							<f:else>
								<f:translate key="{propertyError.code}">{propertyError.message}</f:translate>
							</f:else>
						</f:if>

					</span>
				</f:for>
			</f:if>
		</f:for>
	</f:if>
</f:form.validationResults>


